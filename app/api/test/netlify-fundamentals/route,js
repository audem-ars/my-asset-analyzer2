import { NextResponse } from 'next/server';

// Simplified test route specifically for Netlify testing
export async function GET(request) {
  const { searchParams } = new URL(request.url);
  const symbol = searchParams.get('symbol') || 'AAPL';

  try {
    // Return simple mock data to test Netlify deployment
    return NextResponse.json({
      status: "success",
      message: "Netlify deployment test successful",
      symbol,
      timestamp: new Date().toISOString(),
      serverInfo: {
        platform: process.platform,
        nodeVersion: process.version,
        env: process.env.NODE_ENV
      }
    });
  } catch (error) {
    console.error('Error in Netlify test:', error);
    return NextResponse.json({
      error: 'Netlify test failed',
      details: error.message
    }, { status: 500 });
  }
}